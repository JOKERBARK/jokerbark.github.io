---
title: Github Pages 快速上手
---
# Github Pages 快速上手

前置知识：Github是什么、GitHub Pages如何开启。

## 使用Markdown文件快速生成网页

GitHub Pages支持使用markdown。markdown是一种标记语言，这种语言会用特殊的标记来表示样式。比如在一行前加一个井号表示标题等等。markdown文件的后缀名为md。

现在，你可以向GitHub pages所在的仓库添加一个名字叫`test.md`的文件，看看是否能变为网页形式的内容。在文件中编辑以下内容并保存：
```
# 这是一个测试
我是一句话，哈哈哈。
```
注意，在井号的后面有一个空格才是正确的格式。在保存后，稍等几分钟，访问该文件对应的链接。比如如果你创建的文件在你的Github Pages根目录下，则访问`https://你的网站/test.html`就能看到页面（markdown最终会被编译为真正的网页代码，也就是html）。你会看到“这是一个测试”这一行变得又大又粗。这正是标题的格式。实际上，markdown中有很多这样的符号规则。github风格的markdown语法被称为GFM，想了解更多可见<https://zhuanlan.zhihu.com/p/261016461>。

另外，如果你觉得直接使用markdown写页面不好看，可以尝试在md文件中插入HTML代码，这可以实现更复杂的功能。或者你也可以[使用根目录下的_layouts文件夹自定义模板页面](https://jekyllrb.com/docs/layouts/)。

## 使用git工具

git是一个源代码管理工具，因为其功能强大而被广泛使用。github的名字也是由这个工具而来。你可能会问：“为什么使用git工具？明明可以直接在GitHub上更改或上传文件。”

好问题。理由有三个。其一，GitHub网页端功能并不全，截止本文编写的现在（2023/10/16），GitHub网页端还无法对图片文件重命名。其二，在网页端每项更改都需要网络同步，并且无法获得在本地电脑上操作的体验。其三，git工具提供了一些强大的功能，包括但不限于：
- 本地和远程同步：你可以在自己电脑上克隆远程仓库并同步更改。
- 暂存区：文件变化后不会立即存档，需要你自己确认。
- 分支：同一个仓库可以有几个不同的分支，分支可以分别编写后合并。这个功能极大地方便了多人协作情况下的代码管理。
- 编写记录：仓库记录了历史上所有提交的更改，你可以随时查看，甚至回退编辑。

还不心动？这里有git的下载链接：<https://git-scm.com/download/>

安装好git后，可以进入终端并输入`git -v`，如果显示了版本信息，就安装成功了。

### git上手

我们接下来演示如何使用git克隆你自己的远程仓库然后提交并同步更改。由于众所周知的原因，在中国大陆的你可能有时需要使用代理才能用git连接到github。

#### 1. git clone

在你电脑上想要存储仓库的位置打开终端，输入:
```
git clone 你的仓库地址
```
正常来说，你的仓库地址为`https://github.com/你的用户名/你的仓库名`。在命令正常执行后，你可以看到多了一个文件夹，名称为你的仓库名。进入该文件夹，你能看到仓库中的所有文件。如果你开启了隐藏文件的显示的话，还有一个.git文件夹。现在，我们已经克隆完成。

#### 2. 新建文件并加入暂存区（git add），进行更改并提交（git commit）

先说一点，在git的术语里，提交（commit）会把更改存起来，并不会上传到网络。上传网络需要使用git push。
而且更改和添加新文件也是不同的。我们接下来会分别演示。

在仓库根目录里新建文本文档1.txt，随便输入一些内容并保存。这时候这个文件处于未跟踪的状态，也就是说，即使你此时进行上传，1.txt文件也不会包含在内。你需要在仓库文件夹内打开终端并运行：
```
git add 1.txt
```
这样文件才处于git的“管辖范围”。注意，add 后面本质上填入的是文件地址，不是文件名。虽然在这个例子里是一样的。

add之后就能上传了吗？也不行。因为还要提交（git commit）。为了简化，我们可以使用以下命令：
```
git commit -m "提交说明"
```
这行命令会提交本分支所有更改，并留下注释信息。一般来说，不用改一个地方或添加一个文件就commit一次，commit的信息是对一系列更改的总描述。至于-m的意思是后面附加提交说明。如果你省略`-m "提交说明"`，则会打开一个界面叫你输入提交说明，你输入完之后按Esc再英文输入`:wq`即可。

如果你commit的时候提示以下信息：
```
Author identity unknown

*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.
```
证明你没有设置提交者信息，提交失败。按照他的英文提示运行命令。设置之后再重新提交。

如果更改了文件，也是需要先add再commit。你可以自己试一试。但是，对于更改的情况，命令可以简化。如果你使用：
```
git commit -am "提交信息"
```
可以commit的时候附带add所有文件，方便许多。*但是注意，这个不适用于添加文件的情形。*

#### 3. git push 和 git pull

终于来到喜闻乐见的上传阶段了。我们直接运行：
```
git push 
```
他会有提示，让你把命令写全。我们复制粘贴，重新运行即可。这样，在第一次push成功后，我们就可以简写为`git push`了。
注意关心电脑界面的任务栏，一会儿会有一个弹窗，可以选择任何一个选项。之后按提示登录即可。

或者如果你网络不好打不开网页，你也可以直接关掉弹窗。他在终端会提示我们输username和password。注意，如果用这种方式登录，password不能输github真实密码，而要输入替代令牌。详情见：<https://blog.csdn.net/qq_46941656/article/details/119737804>

注意，你在终端里粘贴需要使用鼠标右键。密码那一栏不会显示，所以右键完直接回车。

git push只会上传当前分支。

pull和push相对，会把远程的文件更改同步到当前分支。也就是输入：
```
git pull
```
如果没有意外，更改会自动合并。

#### 4. git分支操作

如果多人合作一个仓库，强烈建议使用多分支特性。常用命令如下。

查看本仓库有哪些分支：
```
git branch
```

切换到已存在的分支：
```
git checkout 分支名
```

新建分支并切换到新分支：
```
git checkout -b 新分支名
```

*注意：checkout的时候，所有未add的更改都将消失！*

分支是独立的，在a分支的更改不会直接影响b分支的内容。另外，分支具有可合并性，比如下面的操作是有效的：<br/>
我先新建并切换到分支work
```
git checkout -b work
```
然后做一些修改，提交。
```
git commit -am "I changed something"
```
然后回到原来的分支。
```
git checkout 原来的分支名
```
拉取远程更改到原来的分支
```
git pull
```
把work分支的更改合并到当前分支，使用merge命令。在合并后，当前分支内容将和work分支一样。*注意：这个合并不会把work分支删掉*
```
git merge work
```
推送更改
```
git push
```

其实，这套流程是多人合作小型项目的一种推荐流程。其中，我们不会直接在主分支上编辑内容。所有人的更改都在自己的分支上完成并且合并到主分支。*注意，如果多人合作，这个流程中pull那一步非常重要。自己想清楚为什么。*

## Github Pages与Jekyll特性

Github Pages的处理其实是用Jekyll完成的。因此很多Jekyll的特性也能在GitHub Pages中使用。Jekyll的中文文档见：<https://jekyllcn.com/docs/home/>。英文文档见：<https://jekyllrb.com/docs/>

### 尝试使用Jekyll特性：头信息 permalink

一个有意思的想法是，我们或许不想让网页链接通过默认的方式由markdown文件的路径和名称来决定。jekyll确实为我们提供了这个功能。打开我们之前写的test.md，在文件开头加上以下几行：
```
---
permalink: /about
---
```
*注意：如果你的Github Pages页面路径不在域名根目录下，则可能需要使用：*
```
---
permalink: {{ site.baseurl }}/about
---
```
*你可以在这里使用git完成，顺便练习一下git的分支操作方法*

推送提交后，我们访问你网站下的`/about`，就能看见test.md的内容。但如果访问`/test.html`，就会找不到文件。

### 使用_posts文件夹

实际上，Jekyll自带了按时间归类页面的链接管理。要使用这个特性，你应该在根目录创建_posts文件夹，并把想要加入这种组织模式的markdown文件放入其中。

这种组织模式是怎样的呢？首先，所有放进_posts文件夹都要求以`年-月-日-标题.md`的形式命名。然后在默认情况下，最终处理的时候，会把对应的链接转换成：`网站地址/年/月/日/标题.html`。

另外，_post中你再创建的文件夹也不会改变最终网页的地址。例如存放在`_posts/politics/1989-06-04-Good-luck.md`的文件的最终地址也会是`网站地址/1989/06/04/Good-luck.html`,可见politics文件夹毫无影响。

想要了解更多的特性，可查询Jekyll官方文档。